import{r as e}from"./index-Dz2LKTib.js";import{F as u}from"./firestoreService-CvbnsnDf.js";const g=()=>{const[r,l]=e.useState([]),[i,n]=e.useState(!0),[a,c]=e.useState(null),s=async()=>{try{n(!0),c(null),console.log("FirestoreService: Fetching investors from Interactive Brokers...");const t=await u.getInvestors();console.log("Interactive Brokers: Found",t.length,"investors"),l(t)}catch(t){console.error("Error fetching investors from Interactive Brokers:",t),c("Failed to fetch investors")}finally{n(!1)}};return e.useEffect(()=>{s()},[]),{investors:r,loading:i,error:a,refetch:s}},v=r=>{const[l,i]=e.useState([]),[n,a]=e.useState(!0),[c,s]=e.useState(null),t=async()=>{try{a(!0),s(null),console.log("Interactive Brokers: Fetching transactions...",r?`for investor ${r}`:"all");const o=await u.getTransactions(r);console.log("Interactive Brokers: Found",o.length,"transactions"),i(o)}catch(o){console.error("Error fetching transactions from Interactive Brokers:",o),s("Failed to fetch transactions")}finally{a(!1)}};return e.useEffect(()=>{t()},[r]),{transactions:l,loading:n,error:c,refetch:t}},d=()=>{const[r,l]=e.useState([]),[i,n]=e.useState(!0),[a,c]=e.useState(null),s=async()=>{try{n(!0),c(null),console.log("Interactive Brokers: Fetching withdrawal requests...");const t=await u.getWithdrawalRequests();console.log("Interactive Brokers: Found",t.length,"withdrawal requests"),l(t)}catch(t){console.error("Error fetching withdrawal requests from Interactive Brokers:",t),c("Failed to fetch withdrawal requests")}finally{n(!1)}};return e.useEffect(()=>{s()},[]),{withdrawalRequests:r,loading:i,error:a,refetch:s}},w=r=>{const[l,i]=e.useState(null),[n,a]=e.useState(!0),[c,s]=e.useState(null),t=async()=>{try{a(!0),s(null),console.log("Interactive Brokers: Fetching investor:",r);const o=await u.getInvestorById(r);console.log("Interactive Brokers: Found investor:",(o==null?void 0:o.name)||"Not found"),i(o)}catch(o){console.error("Error fetching investor from Interactive Brokers:",o),s("Failed to fetch investor")}finally{a(!1)}};return e.useEffect(()=>{r&&t()},[r]),{investor:l,loading:n,error:c,refetch:t}};export{g as a,v as b,w as c,d as u};
