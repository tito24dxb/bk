import{j as e}from"./index-Dz2LKTib.js";import{a as S,C as a,U as A,D as T}from"./Card-CBGbtaDN.js";import{a as L,u as z,b as $}from"./useFirestore-CGlNlAFc.js";import{T as b}from"./trending-up-tieyKBCH.js";import{T as D}from"./trending-down-CHIBUZMF.js";import{A as I}from"./activity-DCWcVmvG.js";import{c as C}from"./createLucideIcon-CZPXBe3C.js";import{T as f}from"./target-BkMneDlC.js";import"./user-InAlZBAA.js";import"./firestoreService-CvbnsnDf.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=C("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),V=()=>{const{investors:n}=L();z();const{transactions:h}=$(),l=n.length,i=n.reduce((s,t)=>s+(t.currentBalance||0),0),c=n.reduce((s,t)=>s+(t.initialDeposit||0),0),g=i-c,v=c>0?g/c*100:0,d=h.filter(s=>s.type==="Earnings").reduce((s,t)=>s+t.amount,0),o=Math.abs(h.filter(s=>s.type==="Withdrawal").reduce((s,t)=>s+t.amount,0)),x=n.filter(s=>s.currentBalance>s.initialDeposit).length,j=l>0?x/l*100:0,u=l>0?i/l:0,w=n.reduce((s,t)=>{const r=t.country||"Unknown";return s[r]=(s[r]||0)+1,s},{}),p=Object.entries(w).sort(([,s],[,t])=>t-s).slice(0,5),P=()=>{const s=d*.65,t=d*.35,r=s+t,m=r>0?s/r*100:50,N=100-m;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:["$",i.toLocaleString()]}),e.jsx("p",{className:"text-lg text-gray-600",children:"Total Portfolio Value"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Position Distribution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"LONG Positions"}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",s.toLocaleString()," (",m.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-green-500 h-4 rounded-full transition-all duration-1000 ease-out",style:{width:`${m}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SHORT Positions"}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["$",t.toLocaleString()," (",N.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-red-500 h-4 rounded-full transition-all duration-1000 ease-out",style:{width:`${N}%`}})})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-semibold text-gray-800",children:"Net Position"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",(s-t).toLocaleString()]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center border border-blue-200",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full mx-auto mb-2",children:e.jsx(f,{size:16,className:"text-blue-600"})}),e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Win Rate"}),e.jsxs("p",{className:"text-lg font-bold text-blue-800",children:[j.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center border border-green-200",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-full mx-auto mb-2",children:e.jsx(b,{size:16,className:"text-green-600"})}),e.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"Profitable"}),e.jsx("p",{className:"text-lg font-bold text-green-800",children:x})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center border border-purple-200",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-full mx-auto mb-2",children:e.jsx(y,{size:16,className:"text-purple-600"})}),e.jsx("p",{className:"text-xs text-purple-600 font-medium mb-1",children:"Avg Size"}),e.jsxs("p",{className:"text-lg font-bold text-purple-800",children:["$",(u/1e3).toFixed(0),"K"]})]})]})]})};return e.jsxs(S,{title:"Analytics & Reports",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800",children:"Platform Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into platform performance and investor activity."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-3",children:e.jsx(A,{className:"text-blue-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Total Investors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l}),l===0&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No investors yet"})]}),e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3",children:e.jsx(T,{className:"text-green-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Total Assets"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",i.toLocaleString()]}),i===0&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No assets yet"})]}),e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-indigo-100 rounded-lg mx-auto mb-3",children:e.jsx(b,{className:"text-indigo-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Average ROI"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[v.toFixed(2),"%"]}),c===0&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No deposits yet"})]}),e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-amber-100 rounded-lg mx-auto mb-3",children:e.jsx(D,{className:"text-amber-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-1",children:"Total Withdrawals"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",o.toLocaleString()]}),o===0&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No withdrawals yet"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(a,{title:"Portfolio Performance Analytics",children:e.jsx(P,{})})}),e.jsx(a,{title:"Top Countries",children:e.jsx("div",{className:"space-y-4",children:p.length>0?p.map(([s,t],r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 font-medium text-sm",children:r+1})}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:t}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(t/l*100).toFixed(1),"%"]})]})]},s)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No country data available"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-3",children:e.jsx(I,{className:"text-purple-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:"Active Positions"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:x}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Profitable accounts"})]}),e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-100 rounded-lg mx-auto mb-3",children:e.jsx(y,{className:"text-orange-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:"Win Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[j.toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Success ratio"})]}),e.jsxs(a,{className:"text-center hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-emerald-100 rounded-lg mx-auto mb-3",children:e.jsx(f,{className:"text-emerald-600",size:24})}),e.jsx("h3",{className:"text-gray-500 font-medium mb-2",children:"Avg. Position Size"}),e.jsxs("p",{className:"text-3xl font-bold text-emerald-600",children:["$",l>0?Math.round(u).toLocaleString():"0"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Per investor"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(a,{title:"Financial Overview",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Total Deposits"}),e.jsxs("span",{className:"font-bold text-blue-600",children:["$",c.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Total Earnings"}),e.jsxs("span",{className:"font-bold text-green-600",children:["$",d.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Total Withdrawals"}),e.jsxs("span",{className:"font-bold text-red-600",children:["$",o.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Net Platform Growth"}),e.jsxs("span",{className:"font-bold text-indigo-600",children:["$",g.toLocaleString()]})]})]})}),e.jsx(a,{title:"System Status",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Platform Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All systems operational"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Online"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Database Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Connected and responsive"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Healthy"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"API Status"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All endpoints responding"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Data Source"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Interactive Brokers, Inc."})]}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Live"})]})]})})]})]})};export{V as default};
